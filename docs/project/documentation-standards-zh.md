# 文档维护规范

## 📋 文档更新原则

### ✅ 基本原则
1. **就地更新** - 优先更新现有文档，避免创建重复文件
2. **层次清晰** - 遵循既定的文档层次结构
3. **命名规范** - 使用统一的命名规范和格式
4. **内容同步** - 确保所有引用和链接的一致性

### ❌ 禁止行为
- 🚫 **重复创建** - 不要创建内容相似的新文档
- 🚫 **随意命名** - 不要使用不规范的文件名
- 🚫 **孤立文档** - 不要创建没有索引链接的文档
- 🚫 **过时信息** - 不要保留已过时的技术信息

## 📁 文档层次结构

```
📁 文档架构
├── 📄 README.md                     # 项目总览 (主文档)
├── 📄 QUICK_START.md                # 快速启动 (入门文档)
├── 📄 npm权限问题解决方案.md         # 专项问题解决
├── 📁 docs/                        # 详细技术文档
│   ├── 📄 README.md                 # 文档导航中心
│   ├── 📄 文档维护规范.md            # 本文档
│   ├── 📄 开发文档.md                # 开发指南
│   ├── 📄 开发计划.md                # 项目规划
│   ├── 📄 启动脚本使用指南.md         # 启动脚本详细说明
│   └── 📄 command文件使用指南.md     # macOS启动文件
└── 📁 scripts/
    └── 📄 README.md                 # 脚本工具说明
```

## 🔄 文档更新流程

### 1. 确定更新类型

#### 📝 内容更新
```bash
# 如果是更新现有内容
1. 找到对应的现有文档
2. 直接编辑更新内容
3. 检查相关链接和引用
4. 更新文档的修改日期
```

#### 📄 新增文档
```bash
# 如果确实需要新文档
1. 检查是否已有类似文档
2. 确定文档的层次位置
3. 使用规范的命名格式
4. 创建后立即添加到索引
```

### 2. 文档命名规范

#### ✅ 推荐命名格式
- **功能说明**: `功能名称使用指南.md`
- **问题解决**: `问题名称解决方案.md`
- **开发文档**: `开发相关.md`
- **配置文档**: `配置名称配置.md`

#### ❌ 不推荐命名
- `新建文档.md`
- `临时文档.md`
- `TEMP_README.md`
- `guide_v2.md`

### 3. 更新检查清单

#### 📋 更新前检查
- [ ] 确认没有重复的现有文档
- [ ] 确定正确的文档层次位置
- [ ] 检查文件命名是否规范
- [ ] 确认更新的必要性

#### 📋 更新后检查
- [ ] 内容准确性和完整性
- [ ] 相关链接是否正确
- [ ] 文档索引是否更新
- [ ] 格式是否符合规范

## 📚 文档类型指南

### 🏠 根目录文档
**目标读者**: 所有用户  
**内容要求**: 简洁、全面、易懂

- **README.md**: 项目完整介绍
- **QUICK_START.md**: 快速上手指南
- **专项解决方案**: 特定问题的解决文档

### 📁 docs/ 目录文档
**目标读者**: 开发者、运维人员  
**内容要求**: 详细、技术性、可操作

- **开发文档**: 代码开发相关
- **部署文档**: 环境部署和运维
- **使用指南**: 工具和功能的详细说明

### 🔧 scripts/ 目录文档
**目标读者**: 开发者  
**内容要求**: 精确、技术性

- **脚本说明**: 各个脚本的功能和用法

## 🔍 文档维护工作流

### 每次代码提交时
1. **检查影响的文档**
   ```bash
   # 检查哪些文档需要更新
   - API 变更 → 更新 API 文档
   - 配置变更 → 更新配置文档
   - 功能变更 → 更新使用指南
   ```

2. **同步更新文档**
   ```bash
   # 更新相关文档
   - 修改对应的 .md 文件
   - 检查链接和引用
   - 更新版本信息
   ```

### 定期维护 (每周)
1. **检查文档完整性**
2. **清理过时内容**
3. **优化文档结构**
4. **更新外部链接**

## ⚡ 快速操作指南

### 常见更新场景

#### 📊 API 变更
```bash
1. 更新 README.md 中的 API 接口部分
2. 更新 docs/开发文档.md 中的详细说明
3. 检查所有相关的代码示例
```

#### 🚀 部署流程变更
```bash
1. 更新 QUICK_START.md 中的快速启动
2. 更新 docs/启动脚本使用指南.md 中的详细说明
3. 更新 Docker 相关文档
```

#### 🔧 工具脚本变更
```bash
1. 更新 scripts/README.md
2. 更新相关的使用指南
3. 检查启动脚本文档
```

## 📝 模板示例

### 新文档头部模板
```markdown
# 文档标题

> 简短的文档描述

## 📋 本文档内容
- 主要内容1
- 主要内容2
- 主要内容3

## 📖 相关文档
- [相关文档1](./相关文档1.md)
- [相关文档2](./相关文档2.md)

---
*最后更新: 2024-01-20*
```

### 更新日志模板
```markdown
## 📝 更新日志

### 2024-01-20
- 添加了新功能 X 的说明
- 更新了安装步骤
- 修复了链接错误

### 2024-01-19
- 初始创建文档
```

## 🚨 违规示例和修正

### ❌ 错误做法
```bash
# 创建重复文档
./新启动指南.md           # 已有 QUICK_START.md
./API文档v2.md           # 应该更新现有的 API 文档
./临时说明.md            # 应该放在合适的位置
```

### ✅ 正确做法
```bash
# 更新现有文档
编辑 QUICK_START.md      # 更新启动指南
编辑 README.md          # 更新 API 说明
创建 docs/新功能使用指南.md # 新功能放在 docs/ 下
```

## 🔗 相关工具

### 文档检查脚本
```bash
# 检查重复文档
find . -name "*.md" | xargs grep -l "相似内容" 

# 检查无效链接
grep -r "\[.*\](" . --include="*.md" | grep -v "http"
```

### 文档格式化
```bash
# 使用 prettier 格式化
npx prettier --write "**/*.md"
```

---

## 📞 求助指南

### 🤔 不确定如何更新时
1. 查看 [文档导航](./README.md)
2. 检查现有的相似文档
3. 参考本规范的示例
4. 提交 Issue 询问

### 📬 反馈和建议
- 发现文档问题: 提交 Issue
- 改进建议: 提交 Pull Request
- 规范问题: 联系项目维护者

---

*遵循规范，让文档更好地服务项目 📚*