# OpenPenPal æµ‹è¯•è´¦å·æŒ‡å—

> **æœ€åæ›´æ–°**: 2025-08-15  
> **çŠ¶æ€**: åŸºäºå®é™…æ•°æ®åº“éªŒè¯çš„æœ‰æ•ˆæµ‹è¯•è´¦å·  
> **éªŒè¯çŠ¶æ€**: âœ… æ‰€æœ‰è´¦å·å¯†ç å·²éªŒè¯å¯æ­£å¸¸ç™»å½•

## ğŸ“‹ æµ‹è¯•è´¦å·åˆ—è¡¨

### ğŸ”‘ é»˜è®¤å¯†ç è¯´æ˜
æ‰€æœ‰æµ‹è¯•è´¦å·å¯†ç å·²æ ‡å‡†åŒ–ï¼Œç¬¦åˆå®‰å…¨è¦æ±‚ï¼ˆ8ä½ä»¥ä¸Šï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç¬¦å·ä¸­è‡³å°‘ä¸¤ç§ï¼‰ï¼š
- **ç®¡ç†å‘˜è´¦å· (admin)**: `Admin123!`
- **å…¶ä»–æ‰€æœ‰æµ‹è¯•è´¦å·**: `Secret123!`

### ğŸ‘¤ ç”¨æˆ·è´¦å·

| ç”¨æˆ·å | å¯†ç  | é‚®ç®± | è§’è‰² | æ˜µç§° | å­¦æ ¡ä»£ç  | çŠ¶æ€ |
|--------|------|------|------|------|----------|------|
| alice | Secret123! | alice@example.com | user | Alice | BJDX01 | âœ… å·²éªŒè¯ |
| bob | Secret123! | bob@example.com | user | Bob | BJDX01 | âœ… å·²éªŒè¯ |
| api_test_user_fixed | Secret123! | apitestfixed@example.com | user | APIæµ‹è¯•ç”¨æˆ·ä¿®å¤ç‰ˆ | TEST01 | âœ… å¯ç”¨ |
| test_db_connection | Secret123! | test@example.com | user | æ•°æ®åº“æµ‹è¯•ç”¨æˆ· | - | âœ… å¯ç”¨ |

### ğŸš´ ä¿¡ä½¿è´¦å·ï¼ˆå››çº§ä½“ç³»ï¼‰

| ç”¨æˆ·å | å¯†ç  | é‚®ç®± | è§’è‰² | æ˜µç§° | å­¦æ ¡ä»£ç  | æƒé™è¯´æ˜ | çŠ¶æ€ |
|--------|------|------|------|------|----------|----------|------|
| courier_level1 | Secret123! | courier1@openpenpal.com | courier_level1 | Level 1 Courier | BJDX01 | L1æ¥¼æ ‹ä¿¡ä½¿ - åŸºç¡€é…é€æƒé™ | âœ… å·²éªŒè¯ |
| courier_level2 | Secret123! | courier2@openpenpal.com | courier_level2 | Level 2 Courier | BJDX01 | L2ç‰‡åŒºä¿¡ä½¿ - å¯ç®¡ç†L1ä¿¡ä½¿ | âœ… å·²éªŒè¯ |
| courier_level3 | Secret123! | courier3@openpenpal.com | courier_level3 | Level 3 Courier | BJDX01 | L3æ ¡çº§ä¿¡ä½¿ - **æ‰¹é‡ç”Ÿæˆæ¡ç æƒé™** | âœ… å·²éªŒè¯ |
| courier_level4 | Secret123! | courier4@openpenpal.com | courier_level4 | Level 4 Courier | SYSTEM | L4åŸå¸‚æ€»ä»£ - **å…¨å±€æ‰¹é‡ç”Ÿæˆæƒé™** | âœ… å·²éªŒè¯ |

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜è´¦å·

| ç”¨æˆ·å | å¯†ç  | é‚®ç®± | è§’è‰² | æ˜µç§° | å­¦æ ¡ä»£ç  | æƒé™è¯´æ˜ | çŠ¶æ€ |
|--------|------|------|------|------|----------|----------|------|
| admin | Admin123! | admin@openpenpal.com | super_admin | ç³»ç»Ÿç®¡ç†å‘˜ | SYSTEM | è¶…çº§ç®¡ç†å‘˜ - ç³»ç»Ÿæ‰€æœ‰æƒé™ | âœ… å·²éªŒè¯ |

## ğŸ§ª æµ‹è¯•åœºæ™¯æŒ‡å—

### 1. åŸºç¡€åŠŸèƒ½æµ‹è¯•

#### ğŸ“ å†™ä¿¡æµ‹è¯•
```bash
# ç™»å½•aliceè´¦å·è¿›è¡Œå†™ä¿¡æµ‹è¯•
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"alice","password":"Secret123!"}'
```

1. ä½¿ç”¨ `alice` è´¦å·ç™»å½• âœ… éªŒè¯å¯ç”¨
2. è¿›å…¥å†™ä¿¡é¡µé¢ (`/write`)
3. é€‰æ‹©ä¿¡çº¸æ ·å¼ï¼ˆ4ç§å¯é€‰ï¼‰
4. ç¼–å†™ä¿¡ä»¶å†…å®¹
5. é€‰æ‹©å‘é€æ¨¡å¼ï¼š
   - å®šå‘å‘é€ï¼šéœ€è¦è¾“å…¥æ”¶ä»¶äººOP Code
   - åŒ¿åæ¼‚æµï¼šéšæœºåŒ¹é…æ”¶ä»¶äºº
   - å…¬å¼€å‘å¸ƒï¼šå‘å¸ƒåˆ°ä¿¡ä»¶åšç‰©é¦†

#### ğŸ“® æ”¶ä¿¡æµ‹è¯•
```bash
# ç™»å½•bobè´¦å·è¿›è¡Œæ”¶ä¿¡æµ‹è¯•
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"bob","password":"Secret123!"}'
```

1. ä½¿ç”¨ `bob` è´¦å·ç™»å½• âœ… éªŒè¯å¯ç”¨
2. æŸ¥çœ‹æ”¶ä»¶ç®±
3. å¦‚æœaliceå‘é€äº†å®šå‘ä¿¡ä»¶ï¼Œbobåº”è¯¥èƒ½æ”¶åˆ°

### 2. ä¿¡ä½¿ç³»ç»Ÿæµ‹è¯•

#### ğŸƒ ä»»åŠ¡æ´¾é€æµç¨‹
```bash
# ç™»å½•L1ä¿¡ä½¿è´¦å·
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"courier_level1","password":"Secret123!"}'
```

1. ä½¿ç”¨ `courier_level1` ç™»å½• âœ… éªŒè¯å¯ç”¨
2. æŸ¥çœ‹å¯æ¥å–çš„é…é€ä»»åŠ¡
3. æ¥å–ä»»åŠ¡åæ‰«æäºŒç»´ç 
4. æ›´æ–°é…é€çŠ¶æ€ï¼šå·²å–ä»¶ â†’ é…é€ä¸­ â†’ å·²é€è¾¾

#### ğŸ“Š å±‚çº§ç®¡ç†æµ‹è¯•
```bash
# ç™»å½•L3æ ¡çº§ä¿¡ä½¿ï¼ˆå…·æœ‰æ‰¹é‡æƒé™ï¼‰
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"courier_level3","password":"Secret123!"}'
```

1. ä½¿ç”¨ `courier_level3` ç™»å½• âœ… éªŒè¯å¯ç”¨
2. å¯ä»¥æŸ¥çœ‹å’Œç®¡ç†ä¸‹çº§ä¿¡ä½¿
3. **æ‰¹é‡ç”Ÿæˆæ¡ç åŠŸèƒ½**ï¼ˆL3/L4ä¸“å±ï¼‰
4. åˆ†é…ä»»åŠ¡ç»™ä¸‹çº§ä¿¡ä½¿

#### ğŸŒŸ é«˜çº§ç®¡ç†æµ‹è¯•
```bash
# ç™»å½•L4åŸå¸‚æ€»ä»£ï¼ˆæœ€é«˜æƒé™ï¼‰
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"courier_level4","password":"Secret123!"}'
```

1. ä½¿ç”¨ `courier_level4` ç™»å½• âœ… éªŒè¯å¯ç”¨
2. è·¨æ ¡ç®¡ç†æƒé™
3. **å…¨å±€æ‰¹é‡ç”Ÿæˆæƒé™**
4. åˆ›å»ºå’Œç®¡ç†L3ä¿¡ä½¿

### 3. ç®¡ç†å‘˜åŠŸèƒ½æµ‹è¯•

#### ğŸ”§ ç³»ç»Ÿç®¡ç†
```bash
# ç™»å½•è¶…çº§ç®¡ç†å‘˜
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"Admin123!"}'
```

1. ä½¿ç”¨ `admin` è´¦å·ç™»å½• âœ… éªŒè¯å¯ç”¨
2. è®¿é—®ç®¡ç†åå°
3. ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿé…ç½®
4. æ•æ„Ÿè¯ç®¡ç†ï¼ˆL4ä¿¡ä½¿å’Œç®¡ç†å‘˜ä¸“å±ï¼‰
5. å®‰å…¨ç›‘æ§å’Œç»Ÿè®¡

### 4. AIåŠŸèƒ½æµ‹è¯•

#### ğŸ¤– AIå†™ä½œåŠ©æ‰‹
1. åœ¨å†™ä¿¡é¡µé¢ç‚¹å‡»"AIåŠ©æ‰‹"
2. é€‰æ‹©çµæ„Ÿç±»å‹
3. AIä¼šæä¾›å†™ä½œå»ºè®®

#### ğŸ’Œ äº‘ä¸­é”¦ä¹¦
1. é€‰æ‹©AIç¬”å‹äººè®¾
2. å¼€å¯è‡ªåŠ¨å›ä¿¡åŠŸèƒ½
3. AIä¼šå®šæœŸç”Ÿæˆå›ä¿¡

### 5. é«˜çº§åŠŸèƒ½æµ‹è¯•

#### ğŸ›ï¸ ä¿¡ä»¶åšç‰©é¦†
1. è®¿é—® `/museum`
2. æŸ¥çœ‹å…¬å¼€ä¿¡ä»¶å±•è§ˆ
3. å‚ä¸æŠ•ç¥¨å’Œè¯„è®º

#### ğŸ“± OP Codeç³»ç»Ÿ
- **æ ¼å¼**: 6ä½ç¼–ç  (AABBCC)
- **ç¤ºä¾‹**: PK5F3D = åŒ—å¤§5å·æ¥¼303å®¤
- **ç”¨é€”**: ç²¾ç¡®å®šä½æ”¶ä»¶åœ°å€
- **éšç§**: æ”¯æŒéƒ¨åˆ†éšè— (PK5F**)

## ğŸ”’ å®‰å…¨åŠŸèƒ½æµ‹è¯•

### XSSé˜²æŠ¤æµ‹è¯•
```bash
# æµ‹è¯•XSSæ”»å‡»é˜²æŠ¤
curl -X POST "http://localhost:8080/api/v1/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username":"<script>alert(1)</script>","password":"test"}'
# åº”è¯¥è¿”å›400é”™è¯¯ï¼Œè¡¨ç¤ºXSSæ£€æµ‹ç”Ÿæ•ˆ
```

### æ•æ„Ÿè¯ç®¡ç†æµ‹è¯•ï¼ˆéœ€è¦L4æˆ–ç®¡ç†å‘˜æƒé™ï¼‰
```bash
# è·å–adminä»¤ç‰Œåæµ‹è¯•æ•æ„Ÿè¯ç®¡ç†
curl -X GET "http://localhost:8080/api/v1/admin/sensitive-words" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"
```

## ğŸ› å¸¸è§é—®é¢˜

### ç™»å½•å¤±è´¥
- âœ… **å·²ä¿®å¤**: æ‰€æœ‰è´¦å·å¯†ç å·²åŒæ­¥ä¸ºæ ‡å‡†æ ¼å¼
- ç¡®è®¤å¯†ç æ­£ç¡®ï¼šadminç”¨`Admin123!`ï¼Œå…¶ä»–ç”¨`Secret123!`
- æ£€æŸ¥æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸
- æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`tail -f logs/go-backend.log`

### ä¿¡ä½¿ä»»åŠ¡ä¸æ˜¾ç¤º
- ç¡®è®¤ä¿¡ä½¿è´¦å·çº§åˆ«æ­£ç¡®
- æ£€æŸ¥æ˜¯å¦æœ‰å¾…é…é€çš„ä¿¡ä»¶
- L1åªèƒ½çœ‹åˆ°è‡ªå·±æ¥¼æ ‹çš„ä»»åŠ¡

### AIåŠŸèƒ½å¼‚å¸¸
- æ£€æŸ¥AIæœåŠ¡é…ç½®
- ç¡®è®¤APIå¯†é’¥è®¾ç½®æ­£ç¡®
- æŸ¥çœ‹ç¯å¢ƒå˜é‡ï¼š`AI_PROVIDER`

## ğŸ“ æµ‹è¯•æ•°æ®å‡†å¤‡

### åˆ›å»ºæµ‹è¯•ä¿¡ä»¶
```sql
-- åˆ›å»ºä¸€å°ä»aliceåˆ°bobçš„æµ‹è¯•ä¿¡ä»¶
INSERT INTO letters (sender_id, recipient_op_code, title, content, style, status) 
VALUES ('test-user-alice', 'PK5F3D', 'æµ‹è¯•ä¿¡ä»¶', 'è¿™æ˜¯ä¸€å°æµ‹è¯•ä¿¡ä»¶å†…å®¹', 'classic', 'pending');
```

### é‡ç½®å¯†ç ï¼ˆå¦‚éœ€è¦ï¼‰
```bash
# ä½¿ç”¨æ–°çš„æ ‡å‡†åŒ–å¯†ç æ›´æ–°è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/update-test-passwords.sh

# æˆ–è€…æ‰‹åŠ¨é‡ç½®å•ä¸ªç”¨æˆ·å¯†ç 
cd backend && go run cmd/admin/reset_passwords.go -user=alice -password=Secret123!
```

### å¿«é€ŸéªŒè¯æ‰€æœ‰è´¦å·
```bash
# éªŒè¯è„šæœ¬ - æµ‹è¯•æ‰€æœ‰è´¦å·ç™»å½•çŠ¶æ€
cd backend/scripts && ./verify_test_accounts.sh
```

## ğŸ“Š æ•°æ®åº“å®é™…çŠ¶æ€

**å½“å‰æ•°æ®åº“ç”¨æˆ·æ€»æ•°**: 9ä¸ª  
**éªŒè¯çŠ¶æ€**: æ‰€æœ‰æ ¸å¿ƒè´¦å·å¯†ç å·²æ ‡å‡†åŒ–å¹¶ç¬¦åˆå®‰å…¨è¦æ±‚  
**æœ€åéªŒè¯æ—¶é—´**: 2025-08-19 10:30

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [ç”¨æˆ·æ‰‹å†Œ](../getting-started/README.md)
- [ä¿¡ä½¿ç³»ç»Ÿè¯¦è§£](../getting-started/courier-levels.md)
- [APIæµ‹è¯•æŒ‡å—](../api/README.md)
- [å®‰å…¨ç³»ç»Ÿæ–‡æ¡£](../security/)

---

**âš ï¸ é‡è¦æç¤º**: 
- âœ… æµ‹è¯•ç¯å¢ƒæ‰€æœ‰è´¦å·å¯†ç å·²æ ‡å‡†åŒ–å¹¶ç¬¦åˆå®‰å…¨è¦æ±‚ï¼ˆ8ä½ä»¥ä¸Šï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç¬¦å·ï¼‰
- ğŸ”’ ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ä¸åŒçš„è´¦å·å’Œå¯†ç 
- ğŸ“ å¦‚éœ€æ·»åŠ æ–°æµ‹è¯•è´¦å·ï¼Œè¯·è”ç³»ç³»ç»Ÿç®¡ç†å‘˜
- ğŸ›¡ï¸ å®‰å…¨åŠŸèƒ½æµ‹è¯•å·²åŒ…å«XSSé˜²æŠ¤å’Œæ•æ„Ÿè¯ç®¡ç†éªŒè¯
- ğŸ”‘ å¯†ç æ ‡å‡†ï¼šæœ€å°‘8ä½ï¼Œå¿…é¡»åŒ…å«å¤§å†™å­—æ¯ã€å°å†™å­—æ¯ã€æ•°å­—ã€ç¬¦å·ä¸­è‡³å°‘ä¸¤ç§
- ğŸ”„ æ•°æ®åº“æ›´æ–°ï¼šè¿è¡Œ `./scripts/update-test-passwords.sh` ä»¥æ›´æ–°æ•°æ®åº“ä¸­çš„å®é™…å¯†ç å“ˆå¸Œ