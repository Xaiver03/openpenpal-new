# OpenPenPal å¯åŠ¨ç³»ç»Ÿä¿®å¤æ€»ç»“

## ğŸ› ï¸ å·²ä¿®å¤çš„é—®é¢˜

### 1. Bash å…¼å®¹æ€§é—®é¢˜
- **é—®é¢˜**: `declare -A` åœ¨ macOS é»˜è®¤ bash ä¸­ä¸æ”¯æŒ
- **ä¿®å¤**: å°†å…³è”æ•°ç»„æ›¿æ¢ä¸ºå‡½æ•°æ˜ å°„
- **æ–‡ä»¶**: `startup/stop-all.sh`
- **çŠ¶æ€**: âœ… å·²ä¿®å¤

### 2. ç«¯å£å ç”¨é—®é¢˜
- **é—®é¢˜**: å¯åŠ¨å‰æœªèƒ½æ­£ç¡®æ¸…ç†å ç”¨çš„ç«¯å£
- **ä¿®å¤**: 
  - åˆ›å»ºå¼ºåˆ¶ç«¯å£æ¸…ç†è„šæœ¬ `startup/force-cleanup.sh`
  - åœ¨ä¸»å¯åŠ¨å™¨ä¸­æ·»åŠ è‡ªåŠ¨ç«¯å£æ£€æŸ¥å’Œæ¸…ç†
  - åœ¨å¯åŠ¨å‰å¼ºåˆ¶æ¸…ç†æ‰€æœ‰ç›¸å…³ç«¯å£
- **çŠ¶æ€**: âœ… å·²ä¿®å¤

### 3. é…ç½®è§£æé—®é¢˜
- **é—®é¢˜**: åœ¨ dry-run æ¨¡å¼ä¸‹æœåŠ¡åˆ—è¡¨ä¸ºç©º
- **ä¿®å¤**: è°ƒæ•´é…ç½®åŠ è½½é¡ºåºï¼Œç¡®ä¿ dry-run æ¨¡å¼ä¹Ÿèƒ½æ­£ç¡®æ˜¾ç¤ºæœåŠ¡åˆ—è¡¨
- **æ–‡ä»¶**: `startup/quick-start.sh`
- **çŠ¶æ€**: âœ… å·²ä¿®å¤

## ğŸš€ å½“å‰å¯åŠ¨ç³»ç»ŸçŠ¶æ€

### ä¸»è¦å¯åŠ¨æ–¹å¼

1. **å›¾å½¢åŒ–å¯åŠ¨** (æ¨è)
   ```bash
   # åŒå‡»è¿è¡Œæˆ–å‘½ä»¤è¡Œæ‰§è¡Œ
   ./å¯åŠ¨\ OpenPenPal\ é›†æˆ.command
   ```
   - âœ… è‡ªåŠ¨æ£€æµ‹ç«¯å£å ç”¨å¹¶æ¸…ç†
   - âœ… æä¾› 4 ç§å¯åŠ¨æ¨¡å¼é€‰æ‹©
   - âœ… å‹å¥½çš„ç”¨æˆ·ç•Œé¢

2. **å‘½ä»¤è¡Œå¿«é€Ÿå¯åŠ¨**
   ```bash
   # æ¼”ç¤ºæ¨¡å¼ï¼ˆæ¨èæ–°ç”¨æˆ·ï¼‰
   ./startup/quick-start.sh demo --auto-open
   
   # å¼€å‘æ¨¡å¼
   ./startup/quick-start.sh development --auto-open
   
   # ç®€åŒ–æ¨¡å¼
   ./startup/quick-start.sh simple --auto-open
   ```

3. **æ‰‹åŠ¨ç«¯å£æ¸…ç†**ï¼ˆå¦‚æœé‡åˆ°ç«¯å£é—®é¢˜ï¼‰
   ```bash
   ./startup/force-cleanup.sh
   ```

### æœåŠ¡é…ç½®

#### æ¼”ç¤ºæ¨¡å¼ (demo)
- **æœåŠ¡**: simple-mock + frontend
- **ç«¯å£**: 8000 (MockæœåŠ¡), 3000 (å‰ç«¯)
- **ç‰¹ç‚¹**: æœ€ç®€é…ç½®ï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

#### å¼€å‘æ¨¡å¼ (development)  
- **æœåŠ¡**: gateway + write-service + courier-service + admin-service + frontend
- **ç«¯å£**: 8000-8003, 3000
- **ç‰¹ç‚¹**: å®Œæ•´å¾®æœåŠ¡ç¯å¢ƒ

#### ç®€åŒ–æ¨¡å¼ (simple)
- **æœåŠ¡**: simple-mock + frontend  
- **ç«¯å£**: 8000, 3000
- **ç‰¹ç‚¹**: æœ€å°æœåŠ¡é›†ï¼Œå¿«é€Ÿå¯åŠ¨

## ğŸ”§ æ•…éšœæ’æŸ¥æŒ‡å—

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨
```bash
# è§£å†³æ–¹æ¡ˆ 1: å¼ºåˆ¶æ¸…ç†ç«¯å£
./startup/force-cleanup.sh

# è§£å†³æ–¹æ¡ˆ 2: æ‰‹åŠ¨æ£€æŸ¥ç«¯å£
lsof -i :3000  # æ£€æŸ¥å‰ç«¯ç«¯å£
lsof -i :8000  # æ£€æŸ¥åç«¯ç«¯å£

# è§£å†³æ–¹æ¡ˆ 3: é‡å¯å¯åŠ¨ç³»ç»Ÿ
./startup/stop-all.sh --force
./startup/quick-start.sh demo --auto-open
```

### é—®é¢˜ 2: ä¾èµ–ç¼ºå¤±
```bash
# é‡æ–°å®‰è£…ä¾èµ–
./startup/install-deps.sh --force --cleanup
```

### é—®é¢˜ 3: æƒé™é—®é¢˜
```bash
# ä¿®å¤è„šæœ¬æƒé™
chmod +x startup/*.sh
chmod +x *.command
```

## ğŸ¯ æµ‹è¯•éªŒè¯

### Dry Run æµ‹è¯•
```bash
# æµ‹è¯•æ¼”ç¤ºæ¨¡å¼ï¼ˆä¸å®é™…å¯åŠ¨ï¼‰
./startup/quick-start.sh demo --dry-run

# é¢„æœŸè¾“å‡ºåº”æ˜¾ç¤º:
# 4. å¯åŠ¨æœåŠ¡: simple-mock frontend
```

### å®é™…å¯åŠ¨æµ‹è¯•
```bash
# 1. æ¸…ç†ç¯å¢ƒ
./startup/force-cleanup.sh

# 2. å¯åŠ¨æ¼”ç¤ºæ¨¡å¼
./startup/quick-start.sh demo --auto-open

# 3. éªŒè¯æœåŠ¡
./startup/check-status.sh
```

## ğŸ“Š ä¿®å¤éªŒè¯çŠ¶æ€

- âœ… Bash å…¼å®¹æ€§ (declare -A é—®é¢˜)
- âœ… ç«¯å£è‡ªåŠ¨æ¸…ç†åŠŸèƒ½
- âœ… é…ç½®è§£æä¿®å¤
- âœ… Dry-run æ¨¡å¼æ˜¾ç¤º
- âœ… å¼ºåˆ¶æ¸…ç†è„šæœ¬
- âœ… ä¸»å¯åŠ¨å™¨ç«¯å£æ£€æŸ¥
- âœ… æœåŠ¡é…ç½®æ­£ç¡®è§£æ

## ğŸ‰ ç»“è®º

å¯åŠ¨ç³»ç»Ÿç°åœ¨åº”è¯¥èƒ½å¤Ÿï¼š
1. **è‡ªåŠ¨å¤„ç†ç«¯å£å†²çª**
2. **æ­£ç¡®è§£æå’Œå¯åŠ¨æœåŠ¡**
3. **æä¾›å‹å¥½çš„ç”¨æˆ·ç•Œé¢**
4. **æ”¯æŒå¤šç§å¯åŠ¨æ¨¡å¼**
5. **åœ¨å„ç§ macOS ç¯å¢ƒä¸‹å…¼å®¹è¿è¡Œ**

ç”¨æˆ·ç°åœ¨å¯ä»¥é€šè¿‡åŒå‡» `å¯åŠ¨ OpenPenPal é›†æˆ.command` æ–‡ä»¶å®ç°çœŸæ­£çš„"ä¸€é”®å¯åŠ¨"ä½“éªŒï¼