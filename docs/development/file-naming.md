# OpenPenPal é¡¹ç›®æ–‡ä»¶å‘½åè§„èŒƒæ ‡å‡†

## ğŸ“‹ å‘½åè§„èŒƒæ€»åˆ™

### 1. æ–‡ä»¶å‘½ååŸåˆ™
- **æ¸…æ™°æ€§**: æ–‡ä»¶ååº”æ˜ç¡®è¡¨ç¤ºæ–‡ä»¶å†…å®¹å’Œç”¨é€”
- **ä¸€è‡´æ€§**: å…¨é¡¹ç›®é‡‡ç”¨ç»Ÿä¸€çš„å‘½åé£æ ¼
- **å¯é¢„æµ‹æ€§**: å‘½åæ¨¡å¼åº”æ˜“äºç†è§£å’Œè®°å¿†
- **ç‰ˆæœ¬æ§åˆ¶å‹å¥½**: é¿å…ç‰¹æ®Šå­—ç¬¦å’Œç©ºæ ¼

### 2. å‘½åé£æ ¼æŒ‡å—

#### 2.1 ä»£ç æ–‡ä»¶
- **Goæ–‡ä»¶**: å°å†™å­—æ¯+ä¸‹åˆ’çº¿ï¼Œå¦‚ `user_service.go`
- **JavaScript/TypeScript**: å°å†™å­—æ¯+è¿å­—ç¬¦ï¼Œå¦‚ `user-service.ts`
- **Python**: å°å†™å­—æ¯+ä¸‹åˆ’çº¿ï¼Œå¦‚ `user_service.py`
- **é…ç½®æ–‡ä»¶**: ä½¿ç”¨ç‚¹åˆ†éš”ï¼Œå¦‚ `config.prod.yml`

#### 2.2 æ–‡æ¡£æ–‡ä»¶
- **READMEæ–‡ä»¶**: å…¨å¤§å†™ `README.md`
- **æŠ€æœ¯æ–‡æ¡£**: å°å†™è¿å­—ç¬¦ï¼Œå¦‚ `api-specification.md`
- **ä¼šè®®è®°å½•**: æ—¥æœŸå‰ç¼€+ä¸»é¢˜ï¼Œå¦‚ `2025-07-22-meeting-notes.md`

#### 2.3 æµ‹è¯•æ–‡ä»¶
- **å•å…ƒæµ‹è¯•**: `[æ¨¡å—å].test.js` æˆ– `[æ¨¡å—å]_test.go`
- **é›†æˆæµ‹è¯•**: `[åŠŸèƒ½]-integration.test.js`
- **E2Eæµ‹è¯•**: `[åœºæ™¯]-e2e.test.js`
- **æµ‹è¯•æŠ¥å‘Š**: `report-[ç±»å‹]-[æ—¥æœŸ].md`

## ğŸ¯ å…·ä½“å‘½åæ ‡å‡†

### ç›®å½•ç»“æ„å‘½å
```
openpenpal/
â”œâ”€â”€ frontend/                    # Next.jså‰ç«¯
â”œâ”€â”€ backend/                     # Goåç«¯API
â”œâ”€â”€ services/                    # å¾®æœåŠ¡
â”‚   â”œâ”€â”€ admin-service/          # ç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ courier-service/        # ä¿¡ä½¿æœåŠ¡
â”‚   â”œâ”€â”€ gateway/               # APIç½‘å…³
â”‚   â”œâ”€â”€ ocr-service/           # OCRæœåŠ¡
â”‚   â””â”€â”€ write-service/         # å†™ä¿¡æœåŠ¡
â”œâ”€â”€ test-kimi/                  # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                    # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ logs/                       # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ archive/                    # å½’æ¡£æ–‡ä»¶
```

### æ–‡ä»¶æ‰©å±•åè§„èŒƒ

#### ä»£ç æ–‡ä»¶æ‰©å±•å
- **åç«¯Go**: `.go`
- **å‰ç«¯React/Next.js**: `.tsx` (ç»„ä»¶), `.ts` (å·¥å…·), `.js` (è„šæœ¬)
- **PythonæœåŠ¡**: `.py`
- **é…ç½®æ–‡ä»¶**: `.yml` (YAML), `.json` (JSON), `.env` (ç¯å¢ƒå˜é‡)

#### æ–‡æ¡£æ‰©å±•å
- **Markdownæ–‡æ¡£**: `.md`
- **JSONé…ç½®**: `.json`
- **YAMLé…ç½®**: `.yml` æˆ– `.yaml`
- **Shellè„šæœ¬**: `.sh`
- **ç¯å¢ƒå˜é‡**: `.env` + åç¼€

### å…·ä½“æ–‡ä»¶å‘½åè§„èŒƒè¡¨

#### å‰ç«¯æ–‡ä»¶å‘½å
| æ–‡ä»¶ç±»å‹ | å‘½åç¤ºä¾‹ | è¯´æ˜ |
|----------|----------|------|
| é¡µé¢ç»„ä»¶ | `user-profile.tsx` | åŠŸèƒ½+ç±»å‹ |
| UIç»„ä»¶ | `button-component.tsx` | ç»„ä»¶+ç±»å‹ |
| å·¥å…·å‡½æ•° | `date-utils.ts` | åŠŸèƒ½+å·¥å…· |
| æ ·å¼æ–‡ä»¶ | `user-profile.css` | å¯¹åº”ç»„ä»¶å |
| APIæœåŠ¡ | `user-api.ts` | åŠŸèƒ½+api |

#### åç«¯æ–‡ä»¶å‘½å
| æ–‡ä»¶ç±»å‹ | å‘½åç¤ºä¾‹ | è¯´æ˜ |
|----------|----------|------|
| å¤„ç†å™¨ | `user_handler.go` | åŠŸèƒ½+handler |
| æœåŠ¡å±‚ | `user_service.go` | åŠŸèƒ½+service |
| æ¨¡å‹å±‚ | `user_model.go` | åŠŸèƒ½+model |
| ä¸­é—´ä»¶ | `auth_middleware.go` | åŠŸèƒ½+middleware |
| é…ç½®æ–‡ä»¶ | `config.dev.yml` | åŠŸèƒ½+ç¯å¢ƒ |

#### æµ‹è¯•æ–‡ä»¶å‘½å
| æµ‹è¯•ç±»å‹ | å‘½åç¤ºä¾‹ | è¯´æ˜ |
|----------|----------|------|
| å•å…ƒæµ‹è¯• | `user_service_test.go` | æ¨¡å—+test |
| é›†æˆæµ‹è¯• | `user_integration_test.js` | åŠŸèƒ½+integration+test |
| E2Eæµ‹è¯• | `user_journey_e2e.test.js` | åœºæ™¯+e2e+test |
| æµ‹è¯•æ•°æ® | `test_users.json` | test+æ•°æ®ç±»å‹ |
| æµ‹è¯•æŠ¥å‘Š | `report-2025-07-22.md` | report+æ—¥æœŸ |

#### æ–‡æ¡£æ–‡ä»¶å‘½å
| æ–‡æ¡£ç±»å‹ | å‘½åç¤ºä¾‹ | è¯´æ˜ |
|----------|----------|------|
| APIæ–‡æ¡£ | `api-authentication.md` | api+åŠŸèƒ½ |
| éƒ¨ç½²æŒ‡å— | `deploy-production.md` | deploy+ç¯å¢ƒ |
| ç”¨æˆ·æ‰‹å†Œ | `user-guide-registration.md` | user-guide+åŠŸèƒ½ |
| æ¶æ„æ–‡æ¡£ | `architecture-overview.md` | architecture+ä¸»é¢˜ |
| æ•…éšœæ’é™¤ | `troubleshooting-npm-issues.md` | troubleshooting+é—®é¢˜ |

## ğŸ”„ ç‰ˆæœ¬æ§åˆ¶å‘½å

### Gitåˆ†æ”¯å‘½å
- **åŠŸèƒ½åˆ†æ”¯**: `feature/user-authentication`
- **ä¿®å¤åˆ†æ”¯**: `fix/login-validation-error`
- **é‡æ„åˆ†æ”¯**: `refactor/user-service-structure`
- **å‘å¸ƒåˆ†æ”¯**: `release/v2.1.0`
- **çƒ­ä¿®å¤**: `hotfix/security-patch`

### æ ‡ç­¾å‘½å
- **ç‰ˆæœ¬æ ‡ç­¾**: `v2.1.0`
- **é‡Œç¨‹ç¢‘æ ‡ç­¾**: `milestone-alpha-1`
- **ç¯å¢ƒæ ‡ç­¾**: `env-production`

## ğŸ“‹ å‘½åæ£€æŸ¥æ¸…å•

### åˆ›å»ºæ–°æ–‡ä»¶æ—¶çš„æ£€æŸ¥é¡¹
- [ ] æ–‡ä»¶åæ˜¯å¦ç¬¦åˆå¯¹åº”ç±»å‹çš„å‘½åè§„èŒƒï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„åˆ†éš”ç¬¦ï¼ˆè¿å­—ç¬¦vsä¸‹åˆ’çº¿ï¼‰ï¼Ÿ
- [ ] æ˜¯å¦æœ‰æ¸…æ™°çš„è¯­ä¹‰æè¿°ï¼Ÿ
- [ ] æ˜¯å¦é¿å…äº†ç¼©å†™å’Œæ¨¡ç³Šè¯æ±‡ï¼Ÿ
- [ ] æ˜¯å¦æ£€æŸ¥äº†æ–‡ä»¶åçš„å”¯ä¸€æ€§ï¼Ÿ

### ç›®å½•å‘½åæ£€æŸ¥é¡¹
- [ ] ç›®å½•åæ˜¯å¦ä½¿ç”¨å°å†™å­—æ¯ï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨äº†è¿å­—ç¬¦åˆ†éš”ï¼Ÿ
- [ ] æ˜¯å¦å…·æœ‰æè¿°æ€§å’Œå¯è¯»æ€§ï¼Ÿ
- [ ] æ˜¯å¦ç¬¦åˆé¡¹ç›®æ•´ä½“ç»“æ„ï¼Ÿ

## ğŸš¨ ç¦æ­¢çš„å‘½åæ–¹å¼

### âŒ ä¸å…è®¸çš„å‘½å
- ä½¿ç”¨ç©ºæ ¼: `User Service.js`
- ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦: `user@service.js`
- æ··åˆå¤§å°å†™æ··ä¹±: `User-service_Test.js`
- ç¼©å†™ä¸æ˜ç¡®: `usr-srv.js`
- æ•°å­—å¼€å¤´: `2user_service.js`
- ç‰ˆæœ¬å·åœ¨æ–‡ä»¶åä¸­: `user_service_v2.js`

### âœ… æ¨èçš„å‘½åç¤ºä¾‹
```
# ä»£ç æ–‡ä»¶
user-authentication.service.ts
letter-management.controller.go
courier-validation.middleware.py

# é…ç½®æ–‡ä»¶
database.config.prod.yml
redis.config.yml

# æµ‹è¯•æ–‡ä»¶
user-registration.e2e.test.ts
courier-levels.integration.test.js

# æ–‡æ¡£æ–‡ä»¶
api-courier-management.md
deploy-production-guide.md
```

## ğŸ“Š å‘½åè§„èŒƒå®æ–½æ£€æŸ¥è¡¨

### Phase 1: ç°æœ‰æ–‡ä»¶é‡å‘½å
- [x] æ ¹ç›®å½•æ¾æ•£æ–‡ä»¶å·²æ•´ç†åˆ°å¯¹åº”ç›®å½•
- [x] æ–‡æ¡£æ–‡ä»¶å·²æŒ‰è§„èŒƒå‘½åå’Œåˆ†ç±»
- [x] æµ‹è¯•æ–‡ä»¶å·²é›†ä¸­åˆ°test-kimiç›®å½•
- [x] å›¾ç‰‡æ–‡ä»¶å·²ç§»åŠ¨åˆ°docs/imagesç›®å½•

### Phase 2: é¡¹ç›®æ–‡ä»¶æ£€æŸ¥
- [ ] æ£€æŸ¥æ‰€æœ‰ä»£ç æ–‡ä»¶æ˜¯å¦ç¬¦åˆå‘½åè§„èŒƒ
- [ ] éªŒè¯é…ç½®æ–‡ä»¶è·¯å¾„å’Œå‘½å
- [ ] ç¡®è®¤æµ‹è¯•æ–‡ä»¶å‘½åæ ‡å‡†
- [ ] æ£€æŸ¥æ–‡æ¡£æ–‡ä»¶å‘½åè§„èŒƒ

### Phase 3: è‡ªåŠ¨åŒ–å·¥å…·
- [ ] åˆ›å»ºå‘½åè§„èŒƒæ£€æŸ¥è„šæœ¬
- [ ] æ·»åŠ Git hooksè¿›è¡Œå‘½åæ£€æŸ¥
- [ ] å»ºç«‹CI/CDå‘½åéªŒè¯æµç¨‹

## ğŸ¯ æ‰§è¡Œå»ºè®®

### ç«‹å³è¡ŒåŠ¨é¡¹
1. æ‰€æœ‰æ–°åˆ›å»ºçš„æ–‡ä»¶å¿…é¡»éµå¾ªæœ¬è§„èŒƒ
2. ç°æœ‰æ–‡ä»¶çš„é‡å‘½åå¯ä»¥é€æ­¥è¿›è¡Œ
3. å…³é”®è·¯å¾„æ–‡ä»¶ä¼˜å…ˆè€ƒè™‘é‡å‘½å
4. å»ºç«‹æ–‡ä»¶å‘½åè§„èŒƒåŸ¹è®­æœºåˆ¶

### é•¿æœŸç»´æŠ¤
- å®šæœŸå®¡æŸ¥æ–‡ä»¶å‘½åè§„èŒƒæ‰§è¡Œæƒ…å†µ
- æ”¶é›†å›¢é˜Ÿåé¦ˆå¹¶ä¼˜åŒ–è§„èŒƒ
- æ›´æ–°æ–‡æ¡£å’ŒåŸ¹è®­ææ–™
- ç›‘æ§å‘½åè§„èŒƒçš„éµå®ˆç‡