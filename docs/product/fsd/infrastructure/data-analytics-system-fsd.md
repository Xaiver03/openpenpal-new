
## **一、模块定位**

  

数据统计系统面向管理员与信使管理者，提供覆盖「信件、用户、信使、活动、AI使用」五大维度的实时数据看板与导出功能，支持：

- 📈 平台运营决策（用户活跃度、信件投递率）
    
- 🧭 信使绩效评估（任务完成率、反馈速度）
    
- 📬 活动效果追踪（不同城市/信封转化率）
    
- 🧠 AI模块使用统计（匹配满意度、生成频率）
    
- 🧾 数据安全导出与校级/城市级别粒度下钻
    

---

## **二、核心数据指标体系（维度与指标）**

  

### **2.1 信件相关 📮**

|**指标名称**|**说明**|
|---|---|
|写信总数|包括匿名、实名、公开、未来信等|
|实体信绑定率|写信生成后绑定条码的占比|
|投递成功率|成功扫码 → 派送并标记送达的信件占比|
|回信率|有回信记录的信件占比|
|平均写信间隔（人均）|每个用户平均多长时间写一封信|

---

### **2.2 用户行为 👤**

|**指标名称**|**说明**|
|---|---|
|日活跃用户 DAU|每天有任意操作的用户总数|
|月留存率|注册一个月后仍活跃的用户占比|
|平均信件长度|以字数计，衡量平台内容深度|
|写信入口来源分布|来自写作广场/二维码/AI推荐等|

---

### **2.3 信使绩效 🧳**

|**指标名称**|**说明**|
|---|---|
|每日任务完成数|某一级/二级信使的当日成功派送次数|
|派送时效|接单 → 派送 → 送达 所需时间分布|
|点位维护频次|二级信使审核/更新宿舍或商店投递点的活跃度|
|投递成功率（按编码段）|某片区失败率过高将触发风控提示|

---

### **2.4 信封与活动 🎨**

|**指标名称**|**说明**|
|---|---|
|信封销量|包括线上商城购买、商店点位领取数量|
|信封设计投稿数|每轮投稿总数 + 每校投稿人数分布|
|被采纳信封使用率|被采用的设计实际使用率（是否用户认可度高）|
|城市活动参与人数|各城市范围内实际参与活动人数（按信封激活统计）|

---

### **2.5 AI模块 🤖**

|**指标名称**|**说明**|
|---|---|
|AI笔友激活数|至少写过/收到一封AI信的用户总数|
|AI回信平均评分|用户点击 “满意/一般/差评” 的反馈占比|
|匹配成功漂流信比例|匿名漂流信被成功匹配并收到回信的占比|
|写作灵感卡使用频率|打开或应用写作卡片写信的用户数|

---

## **三、数据展示平台建议结构**

  

### **看板结构分为：**

- ✅ 实时看板（DAU、投递情况、最新信封销量）
    
- ✅ 城市/学校粒度对比（切换范围、时段）
    
- ✅ 信使排行榜（个人/点位/学校）
    
- ✅ 图表展示（折线图、漏斗图、热力图）
    
- ✅ 数据导出（CSV、PDF）
    

  

### **技术建议：**

- 后端聚合：使用 ClickHouse / TimescaleDB / PostgreSQL + Materialized View
    
- 可视化层：Metabase / Superset / 自研 Panel with Next.js + Chart.js
    
- 分权限访问：三级/四级信使仅能查看对应编码段内数据，管理员可全局查看
    

---

## **四、接口示例**

  

### **4.1 获取当前学校活跃统计**

  

**GET** /api/stats/school?code=PK

```
{
  "daily_writes": 82,
  "active_users": 51,
  "avg_letter_length": 436,
  "return_rate": 0.23
}
```

---

### **4.2 导出信封使用情况**

  

**GET** /api/stats/envelopes/export?city=HZ

  

返回文件下载链接 .csv

---

## **五、安全与数据合规**

|**风险点**|**控制措施**|
|---|---|
|用户数据泄露|用户标识仅使用匿名 user_id，不展示真实名|
|信件内容二次分析或展示|仅对授权公开信进行风格/情绪分析，私密信内容不可处理|
|信使绩效数据作弊/刷单|所有扫码记录需匹配前后时效 & 可信来源编码|
|统计数据被曲解或外传|导出文件带管理员水印与生成时间戳，设权限组下载限制|

---

是否继续输出下一个模块（如操作日志系统、积分系统、API访问权限系统、任务调度与自动化系统）？欢迎指定优先顺序。✅