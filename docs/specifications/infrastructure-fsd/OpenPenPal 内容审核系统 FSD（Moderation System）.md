暂不实现，只需模拟服务

## **一、模块定位**

内容审核系统负责对用户生成内容（UGC）、AI生成内容（AIGC）和视觉素材（如手写信照片、信封设计）进行识别、分类与过滤。它确保平台内容符合校园伦理、情绪友好、政治/法律底线，维护 OpenPenPal 的“温柔真实”品牌氛围。

---

## **二、审核对象类型**

|**审核对象**|**来源**|**是否公开**|**风控风险说明**|
|---|---|---|---|
|匿名信|用户线上写信|❌|高风险（语言攻击/泄密）|
|公开信|用户授权公开|✅|内容代表平台调性|
|AI 生成回信|AI 子系统|条件公开|可能出现幻觉或不当引导|
|手写信照片上传|用户上传（回信或展示）|条件公开|图片内容不可控|
|信封设计图稿|用户投稿|✅|图案可能包含版权/敏感元素|

---

## **三、审核系统架构图**

```
graph TD
A[UGC入口] --> B[内容审核系统]
B --> C[文本审核]
B --> D[图像审核]
C --> E[自动策略] --> F[人工复审队列]
D --> G[AI检测+OCR] --> F
F --> H[审核通过/拒绝] --> 平台各功能模块
```

---

## **四、审核流程设计**

### **4.1 文本类内容审核**

|**审核内容**|**审核方式**|
|---|---|
|匿名信、公开信|LLM文本分析 + 敏感词匹配 + 情绪识别|
|AI 回信|规则审核 + 模型输出二次分析|
|信件标签、个人签名|关键词 + 上下文共现分析|

> 🚨 推荐使用内容审核 SaaS 服务或集成 open source NLP pipeline（如Weilu、ToxiPy、AlibabaGreen等）

---

### **4.2 图像类内容审核**

|**审核内容**|**审核方式**|
|---|---|
|手写信照片上传|图像识别 + OCR文字抽取 + 标签分类|
|信封设计图|图案结构分析 + 文案提取识别|

> ⚠️ 可使用腾讯云/阿里云图片审核API；或自建图像内容管道（CLIP + 文本规则）

---

## **五、状态流转设计（内容）**

```
草稿 → 提交审核 → 审核中 → 通过 ✅ or 拒绝 ❌ → 用户反馈（可修改）
```

字段结构示例：

```
ModerationRecord {
  id: string
  content_type: "letter" | "ai_reply" | "image" | "envelope"
  source_id: string
  status: "pending" | "approved" | "rejected"
  reason?: string
  reviewed_by?: string
  created_at: datetime
}
```

---

## **六、后台操作界面建议**

- 内容队列：按类型分类（公开信、AI信、图片等）
    
- 快速查看信件上下文、匹配用户、标记情绪风险等级
    
- 快捷操作：放行 / 拒绝 / 屏蔽部分段落 / 添加系统提示语
    
- 图像标注工具：可高亮区域进行标注说明
    
- 审核统计：审核量、风险命中率、AI信通过率等

---

## **七、安全控制点**

|**控制项**|**说明**|
|---|---|
|AI信内容自审策略|GPT生成后立即过一遍敏感词+上下文审查|
|信件强情绪警告机制|检测“伤害/暴力/极端情绪” → 系统提示用户“建议咨询他人或暂停写信”|
|实名信优先通行机制|实名用户写的信通过率可自动提升（降低人工负担）|
|手写图自动加水印标识|上传手写信的展示图带有“仅供展示”水印|

---

## **八、可扩展功能（选配）**

|**功能名称**|**描述**|
|---|---|
|风格评分系统|AI评估每封信的风格（诗意/理性/叙事），用于后续广场分类|
|情绪缓解卡片建议|高情绪内容写完后自动弹出“是否加入安慰语推荐”机制|
|违规信封回溯|审核拒绝信封后，阻断其条码激活权限，追踪销售路径并提醒信使|
