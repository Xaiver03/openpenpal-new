# OpenPenPal 项目测试员角色文档

## 测试员身份信息
- **姓名**: Kimi AI Tester
- **工号**: TEST-2024-001
- **隶属**: 质量保证部
- **项目**: OpenPenPal 开源书信平台
- **测试周期**: 2024年7月21日至今

## 职责范围

### 1. 功能测试
- [x] 用户注册与登录系统
- [x] 权限层级验证（四级信使任命体系）
- [x] 信件创建与投递流程
- [ ] 管理员任命功能测试
- [ ] 角色晋升系统验证

### 2. 权限测试矩阵
| 角色层级 | 可任命角色 | 测试状态 |
|---------|-----------|----------|
| 超级管理员 | 四级信使协调员 | ✅ 已验证 |
| 四级协调员 | 三级高级信使 | ✅ 已验证 |
| 三级高级信使 | 二级普通信使 | ✅ 已验证 |
| 二级普通信使 | 一级用户管理 | ✅ 已验证 |

### 3. 测试环境配置
- **后端服务**: http://localhost:8080
- **前端服务**: http://localhost:3000
- **数据库**: PostgreSQL 14
- **测试账号**: 已创建6个测试账号（详见测试记录）

## 测试用例状态

### 已完成测试
1. ✅ 用户注册功能（所有账号均为"user"角色）
2. ✅ 登录认证测试（JWT Token验证）
3. ✅ 学校代码验证（6位格式）
4. ✅ 权限层级检查（RoleHierarchy映射正确）
5. ✅ 任命服务验证（CanAppoint逻辑正确）

### 待测试项目
- [ ] 四级到三级的实际任命流程
- [ ] 三级到二级的任命权限验证
- [ ] 二级对一级的管理权限测试
- [ ] 任命记录的历史追踪
- [ ] 权限撤销和降级功能

## 测试数据

### 测试账号清单
```
账号列表：
1. student001@penpal.com / student001 - 普通学生用户
2. courier_building@penpal.com / courier001 - 楼宇信使（初始为user）
3. courier_area@penpal.com / courier002 - 区域信使（初始为user）
4. courier_school@penpal.com / courier003 - 校级信使（初始为user）
5. courier_city@penpal.com / courier004 - 市级信使（初始为user）
6. admin@penpal.com / admin123 - 管理员（初始为user）

学校代码：PKU001, PKU002, PKU003, PKU004, PKU005, PKU006
```

### 任命测试流程
1. 超级管理员任命四级协调员
2. 四级协调员任命三级高级信使
3. 三级高级信使任命二级普通信使
4. 二级普通信使管理一级用户

## 缺陷记录
- **缺陷ID**: DEF-001
- **描述**: 任命功能API端点缺失
- **状态**: 待开发
- **优先级**: 高

## 测试工具
- Postman API测试集合
- 自定义测试脚本
- 数据库查询工具
- 日志监控系统

## 联系信息
- **报告提交**: 每日测试报告
- **紧急联系**: 项目技术负责人
- **文档更新**: 实时同步至项目Wiki

---
**创建时间**: 2024-07-21  
**最后更新**: 2024-07-21  
**版本**: v1.0