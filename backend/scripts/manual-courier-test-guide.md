# 信使等级权限手动测试指南

## 测试准备

已修复的数据库状态：
- L1 courier_level1: PK5F3D (楼栋级，Level 1)
- L2 courier_level2: PK5F** (片区级，Level 2)  
- L3 courier_level3: PK** (学校级，Level 3)
- L4 courier_level4: * (全局级，Level 4)

## 测试步骤

### 1. L1信使测试 (courier_level1 / Secret123!)

访问 http://localhost:3000/courier/opcode-manage

**预期行为:**
- 管理范围: PK5F3D** (楼栋级)
- 权限描述: 您可以查看和编辑投递任务中的投递点编码
- 申请审核: 只能看到PK5F3D相关的申请
- 编码管理: 只能看到PK5F3D前缀的编码
- 创建编码: 应显示"一级信使没有创建编码的权限"

### 2. L2信使测试 (courier_level2 / Secret123!)

访问 http://localhost:3000/courier/opcode-manage

**预期行为:**
- 管理范围: PK5F** (片区级)
- 权限描述: 您可以审核和管理投递点（后两位编码）
- 申请审核: 可以看到PK5F**相关的所有申请
- 编码管理: 可以看到PK5F**前缀的编码
- 创建编码: 可以创建PK5F**范围内的完整6位编码

### 3. L3信使测试 (courier_level3 / Secret123!)

访问 http://localhost:3000/courier/opcode-manage

**预期行为:**
- 管理范围: PK**** (学校级)
- 权限描述: 您可以管理片区和楼栋（中间两位编码）
- 申请审核: 可以看到PK****相关的所有申请
- 编码管理: 可以看到PK****前缀的编码
- 创建编码: 可以创建PK****范围内的完整6位编码

### 4. L4信使测试 (courier_level4 / Secret123!)

访问 http://localhost:3000/courier/opcode-manage

**预期行为:**
- 管理范围: 全部OP Code
- 权限描述: 您拥有全部OP Code的管理权限
- 申请审核: 可以看到所有申请
- 编码管理: 可以看到所有编码
- 创建编码: 可以创建任意6位编码（如QH1A01, BD2B02等）

## 检查要点

### 前端显示问题
1. 管理范围徽章是否正确显示
2. 权限描述文字是否准确
3. 创建编码功能是否根据等级显示正确的占位符和提示

### 功能权限问题  
1. L1是否被正确限制为无创建权限
2. L2/L3是否只能在其管理范围内创建
3. L4是否可以创建任意编码
4. 申请列表是否按权限正确过滤

### 数据验证问题
1. 输入验证是否正确（6位大写字母数字）
2. 格式提示是否实时更新
3. 按钮状态是否根据输入正确启用/禁用

## 问题报告模板

如发现问题，请记录：

**测试账号**: courierLevelX  
**问题类型**: 显示问题/功能问题/权限问题  
**具体表现**: [描述看到的现象]  
**预期行为**: [描述应该看到的行为]  
**浏览器**: Chrome/Safari/Firefox  
**错误信息**: [如有控制台错误]